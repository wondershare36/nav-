{"version":3,"sources":["main.js"],"names":["$siteList","$","$lastLi","find","$li","x","localStorage","getItem","xObject","JSON","parse","hasMap","length","logo","url","removeX","replace","render","remove","forEach","node","$site","insertBefore","on","window","prompt","parseUrl","indexOf","push","toUpperCase","e","target","className","preventDefault","parentNode","getAttribute","index","findIndex","v","splice","onbeforeunload","string","stringify","setItem","stopPropagation","document","key","i","toLowerCase","open"],"mappings":"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","file":"main.0b165b5a.js","sourceRoot":"..\\src","sourcesContent":["const $siteList = $('.siteList')\r\nconst $lastLi = $siteList.find('li.last')\r\nconst $li = $siteList.find('li')\r\nconst x = localStorage.getItem(\"x\")\r\nconst xObject = JSON.parse(x)\r\nconst hasMap =xObject.length!==0?xObject:[\r\n  { logo: 'A', url: 'https://www.acfun.cn' },\r\n  { logo: 'B', url: 'https://www.bilibili.com' },\r\n  { logo: 'D', url: 'http://www.dasabi99.top' },\r\n]\r\nconst removeX = (url) => {\r\n  return url.replace(\"http://\", '').replace(\"https://\", '').replace(\"www.\", '')\r\n}\r\nconst render = () => {\r\n  const $siteList = $('.siteList')\r\n  $siteList.find('li:not(.last)').remove()\r\n  hasMap.forEach(node => {\r\n    const $site = $(`<li>\r\n    <a href=\"${node.url}\" class=\"site\">\r\n      <div class=\"logo\">${node.logo}</div>\r\n      <div class=\"link\">${removeX(node.url)}</div>\r\n      <div class=\"close\">x</div>\r\n    </a>\r\n    </li>`).insertBefore($lastLi)\r\n  })\r\n}\r\n\r\nrender()\r\n$('.addButton').on('click', () => {\r\n  let url = window.prompt('请问你要添加的网址是啥？')\r\n  url = url.replace(\"http://\", \"\")\r\n    .replace(\"https://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/,\"\")\r\n  let parseUrl = \"\"\r\n  if (url.indexOf('http') !== 0) {\r\n    parseUrl = 'http://' + url\r\n  }\r\n  hasMap.push({\r\n    logo: url[0].toUpperCase(),\r\n    url: parseUrl\r\n  })\r\n\r\n  render()\r\n})\r\n\r\n// 监听点击关闭按钮，坑：当页面重新渲染后不能监听js创建出来的元素\r\n// 使用事件委托，将监听事件交给父元素\r\n$siteList.on(\"click\",(e)=>{\r\n  if(e.target.className===\"close\"){\r\n    e.preventDefault();\r\n    let url=e.target.parentNode.getAttribute(\"href\")\r\n    let index= hasMap.findIndex(v=>v.url==url)\r\n    hasMap.splice(index,1)\r\n    render()\r\n  }\r\n  \r\n});\r\n\r\nwindow.onbeforeunload = () => {\r\n  const string = JSON.stringify(hasMap)\r\n  localStorage.setItem('x', string)\r\n}\r\n$(\".globalHeader\").on(\"keypress\",(e)=>{\r\n  e.stopPropagation();\r\n})\r\n$(document).on(\"keypress\",(e)=>{\r\n  const {key}=e\r\n  for (let i = 0; i < hasMap.length; i++) {\r\n    if(hasMap[i].logo.toLowerCase()===key){\r\n      window.open(hasMap[i].url)\r\n    }\r\n  }\r\n})"]}